<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>EtherVirus 2020-nEthV</title>

    <script src="frontend/js/FuckFrameworks.js"></script>


        <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.2.0/dist/web3.min.js" crossorigin="anonymous"></script>
        <script src="frontend/js/Compiled.js"></script>
        <script src="frontend/js/Instance.js"></script>
        <script src="frontend/js/Contract.js"></script>
        <script src="frontend/js/Game.js"></script>
        <script src="frontend/js/Site.js"></script>

    <link rel="stylesheet" href="frontend/css/main.css">
</head>
<body>
<header class="header">
    EtherVirus Tracker
</header>

<section class="prompt" id="prompt-loading">
    Loading...
</section>
<section class="prompt" id="prompt-network">
    Please switch to the Ethereum mainnet.
</section>

<section class="main" id="section-main">
    <section class="info-bar">
        <section class="statistics">
            <div>Infections:    <span id="readout-infections">--</span></div>
            <div>Deaths:        <span id="readout-deaths">--</span></div>
        </section>
        <section class="info-me">
            <a href="#my-data">
                <div class="info-me-status" id="info-me-status" >
                    You are
                    <span class="info-me-status-status colour-healthy" id="info-me-status-healthy">HEALTHY</span>
                    <span class="info-me-status-status colour-infected"    id="info-me-status-infected">INFECTED</span>
                    <span class="info-me-status-status colour-dead"    id="info-me-status-dead">DEAD</span>
                </div>
            </a>
            <a href="" class="link-unlock" id="info-me-unlock">
                Unlock
            </a>
        </section>
    </section>

    <section class="info-main">
        <p>
            A highly contagious and unstable virus has emerged on the Ethereum mainnet, spreading fear and panic across the blockchain.
        </p>
        <p>
            Scientists believe the 2020-nEthV virus crossed onto the network when unsanitised inputs were handled by a smart contract with insufficient unit testing.
        </p>
        <p>
            Although little is known about the virus, it appears to jump from wallet to wallet inside ERC-721 token transfers.
        </p>
        <p>
            The mortality rate is high, with many who are infected dying within 7 days.
        </p>
        <p>
            If you believe you may be infected, cryptographers recommend that you switch off your computer, burn your private keys, and remain offline.
        </p>
    </section>

    <section class="graph" id="graph">
        <table id="graph-table" >
            <tr>
                <td id="graph-labels-y" class="graph-labels-y" height="200">
                    <span id="graph-yMax" class="label-y label-yPos">15</span>
                    <span class="label-y label-yAxis">Infections</span>
                    <span class="label-y label-yPos">0</span>
                </td>
                <td>
                    <canvas
                            class="graph-canvas"
                            id="graph-canvas" width="300" height="200">
                    </canvas>
                </td>
            </tr>
            <tr>
                <td></td>
                <td  id="graph-labels-x"
                     class="graph-labels-x" style="width:300px">
                    <span class="label-x label-xPos">0</span>
                    <span class="label-x label-xAxis">Days</span>
                    <span id="graph-xMax" class="label-x label-xPos">15</span>
                </td>
            </tr>
        </table>
    </section>



    <section class="leaderboard"  id="leaderboard">
        <div class="leaderboard-title">Most dangerous carriers</div>
        <div class="leaderboard-list" id="leaderboard-list">

        </div>
    </section>

    <section id="section-unlock" class="unlock" >
        <a href="" id="button-unlock">Unlock account to see if you're okay</a>
        <span id="unlock-status"></span>
    </section>

    <section class="my-data" id="my-data">
        <section class="prompt" id="me-loading">Loading your data...</section>
        <section class="data-me" id="me-infected">
            <div class="me-subtext">You are</div>
            <div class="status-me colour-infected">INFECTED</div>
            <div class="me-subtext">with strain</div>
            <div id="infected-strain"
                 class="strain-me colour-infected"
            >--</div>

            <div class="status-details">You will die in
                <span id="infected-death-date">--</span>
                unless you infect
                <span id="infected-cough-count">--</span>.
            </div>

            <div id="infected-infected-by" class="infected-by">
                You were infected by
                <a href="" class="infected-by-address" id="infected-infected-by-address">
                    0x1234567
                </a>
            </div>




            <div class="infector">
                <div class="me-subtext">Infect someone</div>
                <input
                        class="input-infect"
                        id="input-infect" type="text"
                        placeholder="Address or ENS name"
                >
                <div class="readout-infect" id="readout-infect">
                    status
                </div>
                <a href="" class="button-infect" id="button-check">INFECT</a>
                <a href="" class="button-infect" id="button-infect">CONFIRM</a>
            </div>

            <section class="info-main">
                You can infect any address that is still alive, healthy, isn't immune to this strain, and has an ETH balance > 0.
            </section>

        </section>
        <section  class="data-me" id="me-dead">
            <div class="me-subtext">You are</div>
            <div class="status-me colour-dead">DEAD</div>

            <div id="dead-death-date"
                 class="status-details"
            >You died on 20/20/20</div>
            <div class="me-subtext">from strain</div>
            <div id="dead-strain"
                 class="strain-me colour-dead"
            >2020-nEthV-1</div>

            <div class="infected-by" id="dead-infected-by">
                You were infected by
                <a href="" class="infected-by-address" id="dead-infected-by-address">
                    0x1234567
                </a>
            </div>

        </section>
        <section class="data-me" id="me-healthy">
            <div class="me-subtext">You are</div>
            <div class="status-me colour-healthy">HEALTHY</div>



                <section id="me-immune" class="me-immune">
                    <div class="me-subtext"> You are immune to strain</div>
                    <div id="healthy-strain"
                         class="strain-me colour-healthy"
                    >--</div>
                </section>
            <section class="me-immune-pad" id="me-not-immune">
                &nbsp;
            </section>

            <div class="status-details">Hopefully you stay that way, but we found this pile of discarded tissues from some sick people. You can have them if you want.</div>


            <a href="" id="button-infectMe">Infect Me</a>
            <div class="transaction-message" id="message-infectMe">status</div>

        </section>

    </section>

    <section class="info-main">
        <p><b>About the game</b></p>
        <p>
            The <b>EtherVirus</b> is actually an ERC-721 token project, made entirely for fun.
            The tokens have no value, and anyone who tries to sell you one is a liar and a scoundrel.
        </p>

        <p>
            Anybody who holds an <b>EtherVirus</b> token is infected, and can infect other addresses by transferring the token to them.
            Tokens are transferred using the ERC-721 standard's <b>transferFrom</b> function, meaning it can be done from this site, or any wallet
            that can handle NFTs.
        </p>
        <p>
            When you get an <b>EtherVirus</b> token, it splits into 3. There is also a 20% chance that
            the virus will mutate every time it's transferred.
        </p>

        <p>Tokens can be transferred to any address that isn't already <b>INFECTED</b>, <b>DEAD</b>, or immune to that strain, and has an ETH balance > 0. The reason for the latter is so that they can't just be offloaded to unused addresses.</p>

        <p>If you are infected, you have one week to transfer your three tokens to other people before you are <b>DEAD</b>. If you are dead, you can't interact with the contract anymore, ever.</p>

        <p>If you do offload your tokens in time, you will be immune to the strain that you were infected with. You can't be infected again by this, or any earlier form of the virus. But someone may infect you again with a more mutated form.</p>

        <p>Once everybody who has been infected is either <b>HEALTHY</b> again or <b>DEAD</b>, there will be no new infections and the contract will stop working. That will be the end of the game. </p>

        <p>Go forth and multiply.</p>

        <p>
            <img src="metadata/2020-nEthV.png" alt=""
                 class="image-main"
            >
        </p>

        <p>For the nerds:</p>

        <p>
            <a target="_blank" href="https://github.com/AnAllergyToAnalogy/pathogen">GitHub Repo</a>
        </p>
        <p>
            <a target="_blank" href="https://etherscan.io/address/0xae26a1488c38d187ff2f52ae59158edbedcb4069#code">Verified contract on Etherscan</a>
        </p>
        <p>
            <a target="_blank" ghref="https://medium.com/@anallergytoanalogy/2020-nethv-the-ethervirus-2788fa140de4">Medium article about the project</a>
        </p>



    </section>




    <section class="copyright">
        © Copyright nobody, crypto is for everybody. Just don't be a dickhead. Or do. Whatever.
    </section>

</section>




<footer id="ticker">
    Virus is live
</footer>

</body>

<script>
    let site = new Site();
</script>
</html>
